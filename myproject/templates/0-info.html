–®–∞–≥–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤ Django:

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é, –Ω—É–∂–Ω–æ –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (views.py) –∏ —à–∞–±–ª–æ–Ω (HTML). –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–π–¥–µ–º –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø.


üìå –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ views.py

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞ Paginator –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ —à–∞–±–ª–æ–Ω.

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–ª–∞—Å—Å Paginator:

from django.core.paginator import Paginator

–ò–∑–º–µ–Ω–∏—Ç–µ –≤–∞—à–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, —á—Ç–æ–±—ã –æ–Ω–æ –≤–∫–ª—é—á–∞–ª–æ –ø–∞–≥–∏–Ω–∞—Ü–∏—é:

from django.core.paginator import Paginator
from django.db.models import Q
from django.shortcuts import render
from .models import Post, Category

def posts(request):
    title = '–°—Ç–∞—Ç—å–∏'
    categories = Category.objects.all()
    category_id = request.GET.get('category')
    query = request.GET.get('q')
    posts = Post.objects.all().order_by('-created_at')

    # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ–∏—Å–∫—É
    if category_id:
        posts = posts.filter(category_id=category_id)
    if query:
        posts = posts.filter(Q(title__icontains=query) | Q(body__icontains=query)).distinct()

    # –ü–∞–≥–∏–Ω–∞—Ü–∏—è
    paginator = Paginator(posts, 10)  # –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ 10 –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
    page_number = request.GET.get('page')
    page_obj = paginator.get_page(page_number)

    context = {'title': title, 'categories': categories, 'page_obj': page_obj}
    return render(request, 'posts.html', context)


üìå –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ HTML-—à–∞–±–ª–æ–Ω–µ (posts.html)

–î–æ–±–∞–≤—å—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫ –≤ –∫–æ–Ω—Ü–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π. –û–Ω –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

{% extends "base.html" %}
<!--{% load static %}-->
{% block content %}
<div><a class="buttonSimpForm" href="{% url 'add_post' %}">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é</a></div>
    <h1 class="title">{{ title }}</h1>

    <!-- –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ —Å—Ç–∞—Ç—å–∏ -->
    <form method="get" class="search-form">
        <div class="search-container">
            <input type="text" name="q" value="{{ request.GET.q }}" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å—Ç–∞—Ç—å–∏ –∏–ª–∏ —Å–ª–æ–≤—É –≤ —Å—Ç–∞—Ç—å–µ..." class="search-input">
            <button class="search-button" type="submit">üîç –ù–∞–π—Ç–∏</button>
        </div>
    </form>

    <!-- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
    <div class="categoryStyle">
        <strong>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:</strong>
        <a class="buttonSimp" href="{% url 'posts' %}">–í—Å–µ</a>
        {% for category in categories %}
            <a class="buttonSimp" href="?category={{ category.id }}">{{ category.name }}</a>
        {% endfor %}
    </div>

    <!-- –í—ã–≤–æ–¥ —Å—Ç–∞—Ç–µ–π -->
    {% for post in page_obj %}
    <div class="post">
        <div class="postTitleDiv">
            <div><h2 class="postTitle">{{ post.title }}</h2></div>
            <div><a class="buttonSimp" href="{% url 'post_detail' post.id %}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a></div>
        </div>
        <div class="postBody">{{ post.body }}</div>
        {% if post.image %}
            <div class="postImgDiv"><img class="postImgDivP" src="{{ post.image.url }}" alt="{{ post.name }}"></div>
        {% endif %}
        <div class="postInfoBlok">
            <div class="postInfo">–ê–≤—Ç–æ—Ä –ø—É–±–ª–∏–∫–∞—Ü–∏–∏: {{ post.author }}</div>
            <div class="postInfo">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ post.category }}</div>
            <div class="postInfo">–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏: {{ post.created_at|date:'d.m.Y H:i' }}</div>
        </div>
    </div>
    {% endfor %}

    <!-- –ë–ª–æ–∫ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ -->
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        {% if page_obj.has_previous %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</a></li>
        {% endif %}
        {% for num_page in page_obj.paginator.page_range %}
          {% if num_page == page_obj.number %}
              <li class="page-item active"><a class="page-link" href="#">{{ num_page }}</a></li>
          {% else %}
              <li class="page-item"><a class="page-link" href="?page={{ num_page }}">{{ num_page }}</a></li>
          {% endif %}
        {% endfor %}
        {% if page_obj.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">–°–ª–µ–¥—É—é—â–∞—è</a></li>
        {% endif %}
      </ul>
    </nav>

{% endblock %}


üé® CSS-—Å—Ç–∏–ª–∏ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (–ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ —Å—Ç–∏–ª—è):

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π CSS-–∫–æ–¥ –≤ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π CSS-—Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, style.css):

.pagination {
    display: inline-block;
    margin-top: 20px;
}

.pagination ul {
    list-style-type: none;
    padding: 0;
}

.pagination li {
    float: left;
    margin-right: 5px;
}

.pagination li a {
    color: black;
    float: left;
    padding: 8px 16px;
    text-decoration: none;
    transition: background-color .3s;
    border: 1px solid #ddd;
    margin: 0 4px;
}

.pagination li a.active {
    background-color: #4CAF50;
    color: white;
    border: 1px solid #4CAF50;
}

.pagination li a:hover:not(.active) {
    background-color: #ddd;
}


‚úÖ –ò—Ç–æ–≥:

–í–∞—à —à–∞–±–ª–æ–Ω —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é, –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏–ª–∏ –≤–≤–æ–¥–∏—Ç –ø–æ–∏—Å–∫–æ–≤—É—é —Ñ—Ä–∞–∑—É, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏.
–ü—Ä–æ—Å—Ç–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ–∑–≤–æ–ª–∏—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –∏ —Å–¥–µ–ª–∞–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é —É–¥–æ–±–Ω–æ–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —ç—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –Ω–∞ —Å–≤–æ–µ–º –±–ª–æ–≥–µ.


*html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}*/